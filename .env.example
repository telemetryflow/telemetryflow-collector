# =============================================================================
# TelemetryFlow Collector - Environment Variables
# =============================================================================
# Copy this file to .env and update the values as needed
# =============================================================================

# -----------------------------------------------------------------------------
# Build Configuration
# -----------------------------------------------------------------------------
VERSION=1.1.0
GIT_COMMIT=unknown
GIT_BRANCH=main
BUILD_TIME=unknown
OTEL_VERSION=0.142.0

# -----------------------------------------------------------------------------
# Container Configuration
# -----------------------------------------------------------------------------
# Standalone
CONTAINER_NAME=tfo-collector
IMAGE_NAME=telemetryflow/telemetryflow-collector
IMAGE_TAG=1.1.0

# OCB (for docker-compose.ocb.yml)
CONTAINER_NAME_OCB=tfo-collector-ocb
IMAGE_NAME_OCB=telemetryflow/telemetryflow-collector-ocb
IMAGE_TAG_OCB=1.1.0

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
# OTLP gRPC receiver port
OTLP_GRPC_PORT=4317

# OTLP HTTP receiver port
OTLP_HTTP_PORT=4318

# Prometheus metrics port (self-observability)
METRICS_PORT=8888

# Prometheus exporter port
PROMETHEUS_EXPORTER_PORT=8889

# Health check port
HEALTH_PORT=13133

# zPages debugging port
ZPAGES_PORT=55679

# pprof profiling port
PPROF_PORT=1777

# -----------------------------------------------------------------------------
# TelemetryFlow Backend Configuration
# -----------------------------------------------------------------------------
TELEMETRYFLOW_API_ENDPOINT=http://localhost:3100
TELEMETRYFLOW_TENANT_ID=default
TELEMETRYFLOW_WORKSPACE_ID=default

# -----------------------------------------------------------------------------
# Collector Configuration
# -----------------------------------------------------------------------------
COLLECTOR_ID=collector-001
COLLECTOR_DESCRIPTION=TelemetryFlow Collector

# -----------------------------------------------------------------------------
# Exporter Configuration
# -----------------------------------------------------------------------------
# OTLP Exporter (where collector sends telemetry)
OTLP_EXPORTER_ENDPOINT=http://telemetryflow-api:4317
OTLP_EXPORTER_INSECURE=true

# Loki Exporter (optional)
LOKI_ENDPOINT=http://loki:3100/loki/api/v1/push

# Elasticsearch Exporter (optional)
ELASTICSEARCH_ENDPOINT=http://elasticsearch:9200

# -----------------------------------------------------------------------------
# Processing Configuration
# -----------------------------------------------------------------------------
BATCH_SIZE=8192
BATCH_TIMEOUT=200ms
MEMORY_LIMIT_PERCENTAGE=80

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Resource Limits
# -----------------------------------------------------------------------------
MEMORY_LIMIT=2G
CPU_LIMIT=2.0

# -----------------------------------------------------------------------------
# Queue Configuration (Persistent)
# -----------------------------------------------------------------------------
QUEUE_ENABLED=true
QUEUE_PATH=/var/lib/tfo-collector/queue
QUEUE_MAX_SIZE_MB=500
